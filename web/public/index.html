<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waveform Player</title>
</head>
<body>
<h1>Waveform Player</h1>

<!-- Add inside your body somewhere -->
<input type="file" id="fileUpload" accept="audio/*" />
<button id="saveButton">Save State</button>
<input type="file" id="loadInput" style="display:none;" />
<button id="loadButton">Load State</button>


<div id="redValueDisplay">Red value: 0</div>
<div id="greenValueDisplay">Green value: 0</div>

<!-- Buttons for color selection -->
<div class="controls">
    <button id="modeToggleButton">Switch to Draw Mode</button>
    <button id="actionToggleButton">Switch to Delete Points</button>
    <button id="colorRedButton" style="background-color: red; color: white;">Select Red</button>
    <button id="colorGreenButton" style="background-color: green; color: white;">Select Green</button>
</div>

<label>
    Zoom: <input type="range" min="10" max="1000" value="100" />
</label>

<div id="waveformWrapper" style="position: relative;">
    <div id="waveform" style="position: relative; height: 500px;">
        <!-- WaveSurfer will inject its elements here -->
    </div>
    <!-- Overlay canvases OUTSIDE so they're not affected by WaveSurfer's internals -->
    <div id="overlayContainer" style="position: absolute; top: 0; left: 0; right: 0; height: 500px;">
        <canvas id="waveformCanvas" style="position: absolute; width: 100%; height: 100%; z-index: 1; pointer-events: none;"></canvas>
        <canvas id="interactionCanvas" style="position: absolute; width: 100%; height: 100%; z-index: 3; pointer-events: auto;"></canvas>
        <canvas id="playbackCanvas" style="position: absolute; width: 100%; height: 100%; z-index: 2; pointer-events: none;"></canvas>
    </div>
</div>

<script type="module" src="main.js"></script>
<link rel="stylesheet" href="styles.css">
</body>
</html>
